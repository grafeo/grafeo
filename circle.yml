machine:
  environment:
    COVERALLS_REPO_TOKEN: jcNqZoqi87ip0EoPWLy5b8nzfFm4Z0MlL
dependencies:
  pre:
    - sudo add-apt-repository ppa:gnome3-team/gnome3 -y
    - sudo add-apt-repository ppa:gnome3-team/gnome3-staging -y
    - sudo apt-get update
    - sudo apt-get install libglib2.0-dev
    - sudo pip install cpp-coveralls
test:
  pre:
    - mkdir build
    - cd build
    - pwd
    - cd build && cmake .. -DBUILD_DOCS=OFF -DBUILD_TESTING=ON -DCOVERALLS=ON -DCMAKE_BUILD_TYPE=Debug -DBUILD_DISPLAY=OFF
    - cd build && make
    - cd build && make coveralls
